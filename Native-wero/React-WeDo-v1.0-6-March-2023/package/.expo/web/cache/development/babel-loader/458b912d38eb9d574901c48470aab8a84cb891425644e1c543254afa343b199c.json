{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.camera = camera;\nexports.imageLibrary = imageLibrary;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar DEFAULT_OPTIONS = {\n  mediaType: 'photo',\n  includeBase64: false,\n  selectionLimit: 1\n};\nfunction camera() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_OPTIONS;\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  return new Promise(function (resolve) {\n    var result = {\n      errorCode: 'camera_unavailable',\n      errorMessage: 'launchCamera is not supported for web yet'\n    };\n    if (callback) callback(result);\n    resolve(result);\n  });\n}\nfunction imageLibrary() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_OPTIONS;\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  if (options.mediaType !== 'photo') {\n    var result = {\n      errorCode: 'others',\n      errorMessage: 'For now, only photo mediaType is supported for web'\n    };\n    if (callback) callback(result);\n    return Promise.resolve(result);\n  }\n  var input = document.createElement('input');\n  input.style.display = 'none';\n  input.setAttribute('type', 'file');\n  input.setAttribute('accept', getWebMediaType(options.mediaType));\n  if (options.selectionLimit > 1) {\n    input.setAttribute('multiple', 'multiple');\n  }\n  document.body.appendChild(input);\n  return new Promise(function (resolve) {\n    input.addEventListener('change', (0, _asyncToGenerator2.default)(function* () {\n      if (input.files) {\n        if (options.selectionLimit <= 1) {\n          var img = yield readFile(input.files[0], {\n            includeBase64: options.includeBase64\n          });\n          var _result = {\n            assets: [img]\n          };\n          if (callback) callback(_result);\n          resolve(_result);\n        } else {\n          var imgs = yield Promise.all(Array.from(input.files).map(function (file) {\n            return readFile(file, {\n              includeBase64: options.includeBase64\n            });\n          }));\n          var _result2 = {\n            didCancel: false,\n            assets: imgs\n          };\n          if (callback) callback(_result2);\n          resolve(_result2);\n        }\n      }\n      document.body.removeChild(input);\n    }));\n    var event = new MouseEvent('click');\n    input.dispatchEvent(event);\n  });\n}\nfunction readFile(targetFile, options) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.onerror = function () {\n      reject(new Error(\"Failed to read the selected media because the operation failed.\"));\n    };\n    reader.onload = function (_ref2) {\n      var target = _ref2.target;\n      var uri = target == null ? void 0 : target.result;\n      var returnRaw = function returnRaw() {\n        return resolve({\n          uri: uri,\n          width: 0,\n          height: 0\n        });\n      };\n      if (typeof uri === 'string') {\n        var image = new Image();\n        image.src = uri;\n        image.onload = function () {\n          var _image$naturalWidth, _image$naturalHeight;\n          return resolve(Object.assign({\n            uri: uri,\n            width: (_image$naturalWidth = image.naturalWidth) != null ? _image$naturalWidth : image.width,\n            height: (_image$naturalHeight = image.naturalHeight) != null ? _image$naturalHeight : image.height\n          }, options.includeBase64 && {\n            base64: uri.substr(uri.indexOf(',') + 1)\n          }));\n        };\n        image.onerror = function () {\n          return returnRaw();\n        };\n      } else {\n        returnRaw();\n      }\n    };\n    reader.readAsDataURL(targetFile);\n  });\n}\nfunction getWebMediaType(mediaType) {\n  var _webMediaTypes$mediaT;\n  var webMediaTypes = {\n    photo: 'image/*',\n    video: 'video/*',\n    mixed: 'image/*,video/*'\n  };\n  return (_webMediaTypes$mediaT = webMediaTypes[mediaType]) != null ? _webMediaTypes$mediaT : webMediaTypes.photo;\n}","map":{"version":3,"names":["DEFAULT_OPTIONS","mediaType","includeBase64","selectionLimit","camera","options","arguments","length","undefined","callback","Promise","resolve","result","errorCode","errorMessage","imageLibrary","input","document","createElement","style","display","setAttribute","getWebMediaType","body","appendChild","addEventListener","_asyncToGenerator2","default","files","img","readFile","assets","imgs","all","Array","from","map","file","didCancel","removeChild","event","MouseEvent","dispatchEvent","targetFile","reject","reader","FileReader","onerror","Error","onload","_ref2","target","uri","returnRaw","width","height","image","Image","src","_image$naturalWidth","_image$naturalHeight","Object","assign","naturalWidth","naturalHeight","base64","substr","indexOf","readAsDataURL","_webMediaTypes$mediaT","webMediaTypes","photo","video","mixed"],"sources":["C:/Users/SIAM/Downloads/React-WeDo-v1.0-6-March-2023/package/node_modules/react-native-image-picker/src/platforms/web.ts"],"sourcesContent":["import {\n  CameraOptions,\n  ImageLibraryOptions,\n  Callback,\n  ImagePickerResponse,\n  ErrorCode,\n  Asset,\n  MediaType,\n} from '../types';\n\nconst DEFAULT_OPTIONS: Pick<\n  ImageLibraryOptions & CameraOptions,\n  'mediaType' | 'includeBase64' | 'selectionLimit'\n> = {\n  mediaType: 'photo',\n  includeBase64: false,\n  selectionLimit: 1,\n};\n\nexport function camera(\n  options: ImageLibraryOptions = DEFAULT_OPTIONS,\n  callback?: Callback,\n): Promise<ImagePickerResponse> {\n  return new Promise((resolve) => {\n    const result = {\n      errorCode: 'camera_unavailable' as ErrorCode,\n      errorMessage: 'launchCamera is not supported for web yet',\n    };\n\n    if (callback) callback(result);\n\n    resolve(result);\n  });\n}\n\nexport function imageLibrary(\n  options: ImageLibraryOptions = DEFAULT_OPTIONS,\n  callback?: Callback,\n): Promise<ImagePickerResponse> {\n  // Only supporting 'photo' mediaType for now.\n  if (options.mediaType !== 'photo') {\n    const result = {\n      errorCode: 'others' as ErrorCode,\n      errorMessage: 'For now, only photo mediaType is supported for web',\n    };\n\n    if (callback) callback(result);\n\n    return Promise.resolve(result);\n  }\n\n  const input = document.createElement('input');\n  input.style.display = 'none';\n  input.setAttribute('type', 'file');\n  input.setAttribute('accept', getWebMediaType(options.mediaType));\n\n  if (options.selectionLimit! > 1) {\n    input.setAttribute('multiple', 'multiple');\n  }\n\n  document.body.appendChild(input);\n\n  return new Promise((resolve) => {\n    input.addEventListener('change', async () => {\n      if (input.files) {\n        if (options.selectionLimit! <= 1) {\n          const img = await readFile(input.files[0], {\n            includeBase64: options.includeBase64,\n          });\n\n          const result = {assets: [img]};\n\n          if (callback) callback(result);\n\n          resolve(result);\n        } else {\n          const imgs = await Promise.all(\n            Array.from(input.files).map((file) =>\n              readFile(file, {includeBase64: options.includeBase64}),\n            ),\n          );\n\n          const result = {\n            didCancel: false,\n            assets: imgs,\n          };\n\n          if (callback) callback(result);\n\n          resolve(result);\n        }\n      }\n      document.body.removeChild(input);\n    });\n\n    const event = new MouseEvent('click');\n    input.dispatchEvent(event);\n  });\n}\n\nfunction readFile(\n  targetFile: Blob,\n  options: Partial<ImageLibraryOptions>,\n): Promise<Asset> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = () => {\n      reject(\n        new Error(\n          `Failed to read the selected media because the operation failed.`,\n        ),\n      );\n    };\n    reader.onload = ({target}) => {\n      const uri = target?.result;\n\n      const returnRaw = () =>\n        resolve({\n          uri: uri as string,\n          width: 0,\n          height: 0,\n        });\n\n      if (typeof uri === 'string') {\n        const image = new Image();\n        image.src = uri;\n        image.onload = () =>\n          resolve({\n            uri,\n            width: image.naturalWidth ?? image.width,\n            height: image.naturalHeight ?? image.height,\n            // The blob's result cannot be directly decoded as Base64 without\n            // first removing the Data-URL declaration preceding the\n            // Base64-encoded data. To retrieve only the Base64 encoded string,\n            // first remove data:*/*;base64, from the result.\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n            ...(options.includeBase64 && {\n              base64: uri.substr(uri.indexOf(',') + 1),\n            }),\n          });\n        image.onerror = () => returnRaw();\n      } else {\n        returnRaw();\n      }\n    };\n\n    reader.readAsDataURL(targetFile);\n  });\n}\n\nfunction getWebMediaType(mediaType: MediaType) {\n  const webMediaTypes = {\n    photo: 'image/*',\n    video: 'video/*',\n    mixed: 'image/*,video/*',\n  };\n\n  return webMediaTypes[mediaType] ?? webMediaTypes.photo;\n}\n"],"mappings":";;;;;;;AAUA,IAAMA,eAGL,GAAG;EACFC,SAAS,EAAE,OAAO;EAClBC,aAAa,EAAE,KAAK;EACpBC,cAAc,EAAE;AAClB,CAAC;AAEM,SAASC,MAAMA,CAAA,EAGU;EAAA,IAF9BC,OAA4B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGN,eAAe;EAAA,IAC9CS,QAAmB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAEnB,OAAO,IAAIE,OAAO,CAAC,UAACC,OAAO,EAAK;IAC9B,IAAMC,MAAM,GAAG;MACbC,SAAS,EAAE,oBAAiC;MAC5CC,YAAY,EAAE;IAChB,CAAC;IAED,IAAIL,QAAQ,EAAEA,QAAQ,CAACG,MAAM,CAAC;IAE9BD,OAAO,CAACC,MAAM,CAAC;EACjB,CAAC,CAAC;AACJ;AAEO,SAASG,YAAYA,CAAA,EAGI;EAAA,IAF9BV,OAA4B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGN,eAAe;EAAA,IAC9CS,QAAmB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAGnB,IAAIH,OAAO,CAACJ,SAAS,KAAK,OAAO,EAAE;IACjC,IAAMW,MAAM,GAAG;MACbC,SAAS,EAAE,QAAqB;MAChCC,YAAY,EAAE;IAChB,CAAC;IAED,IAAIL,QAAQ,EAAEA,QAAQ,CAACG,MAAM,CAAC;IAE9B,OAAOF,OAAO,CAACC,OAAO,CAACC,MAAM,CAAC;EAChC;EAEA,IAAMI,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC7CF,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;EAC5BJ,KAAK,CAACK,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;EAClCL,KAAK,CAACK,YAAY,CAAC,QAAQ,EAAEC,eAAe,CAACjB,OAAO,CAACJ,SAAS,CAAC,CAAC;EAEhE,IAAII,OAAO,CAACF,cAAc,GAAI,CAAC,EAAE;IAC/Ba,KAAK,CAACK,YAAY,CAAC,UAAU,EAAE,UAAU,CAAC;EAC5C;EAEAJ,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,KAAK,CAAC;EAEhC,OAAO,IAAIN,OAAO,CAAC,UAACC,OAAO,EAAK;IAC9BK,KAAK,CAACS,gBAAgB,CAAC,QAAQ,MAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;MAC3C,IAAIX,KAAK,CAACY,KAAK,EAAE;QACf,IAAIvB,OAAO,CAACF,cAAc,IAAK,CAAC,EAAE;UAChC,IAAM0B,GAAG,SAASC,QAAQ,CAACd,KAAK,CAACY,KAAK,CAAC,CAAC,CAAC,EAAE;YACzC1B,aAAa,EAAEG,OAAO,CAACH;UACzB,CAAC,CAAC;UAEF,IAAMU,OAAM,GAAG;YAACmB,MAAM,EAAE,CAACF,GAAG;UAAC,CAAC;UAE9B,IAAIpB,QAAQ,EAAEA,QAAQ,CAACG,OAAM,CAAC;UAE9BD,OAAO,CAACC,OAAM,CAAC;QACjB,CAAC,MAAM;UACL,IAAMoB,IAAI,SAAStB,OAAO,CAACuB,GAAG,CAC5BC,KAAK,CAACC,IAAI,CAACnB,KAAK,CAACY,KAAK,CAAC,CAACQ,GAAG,CAAC,UAACC,IAAI;YAAA,OAC/BP,QAAQ,CAACO,IAAI,EAAE;cAACnC,aAAa,EAAEG,OAAO,CAACH;YAAa,CAAC,CAAC;UAAA,CACxD,CACF,CAAC;UAED,IAAMU,QAAM,GAAG;YACb0B,SAAS,EAAE,KAAK;YAChBP,MAAM,EAAEC;UACV,CAAC;UAED,IAAIvB,QAAQ,EAAEA,QAAQ,CAACG,QAAM,CAAC;UAE9BD,OAAO,CAACC,QAAM,CAAC;QACjB;MACF;MACAK,QAAQ,CAACM,IAAI,CAACgB,WAAW,CAACvB,KAAK,CAAC;IAClC,CAAC,EAAC;IAEF,IAAMwB,KAAK,GAAG,IAAIC,UAAU,CAAC,OAAO,CAAC;IACrCzB,KAAK,CAAC0B,aAAa,CAACF,KAAK,CAAC;EAC5B,CAAC,CAAC;AACJ;AAEA,SAASV,QAAQA,CACfa,UAAgB,EAChBtC,OAAqC,EACrB;EAChB,OAAO,IAAIK,OAAO,CAAC,UAACC,OAAO,EAAEiC,MAAM,EAAK;IACtC,IAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,OAAO,GAAG,YAAM;MACrBH,MAAM,CACJ,IAAII,KAAK,kEAET,CACF,CAAC;IACH,CAAC;IACDH,MAAM,CAACI,MAAM,GAAG,UAAAC,KAAA,EAAc;MAAA,IAAZC,MAAM,GAAAD,KAAA,CAANC,MAAM;MACtB,IAAMC,GAAG,GAAGD,MAAM,oBAANA,MAAM,CAAEvC,MAAM;MAE1B,IAAMyC,SAAS,GAAG,SAAZA,SAASA,CAAA;QAAA,OACb1C,OAAO,CAAC;UACNyC,GAAG,EAAEA,GAAa;UAClBE,KAAK,EAAE,CAAC;UACRC,MAAM,EAAE;QACV,CAAC,CAAC;MAAA;MAEJ,IAAI,OAAOH,GAAG,KAAK,QAAQ,EAAE;QAC3B,IAAMI,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;QACzBD,KAAK,CAACE,GAAG,GAAGN,GAAG;QACfI,KAAK,CAACP,MAAM,GAAG;UAAA,IAAAU,mBAAA,EAAAC,oBAAA;UAAA,OACbjD,OAAO,CAAAkD,MAAA,CAAAC,MAAA;YACLV,GAAG,EAAHA,GAAG;YACHE,KAAK,GAAAK,mBAAA,GAAEH,KAAK,CAACO,YAAY,YAAAJ,mBAAA,GAAIH,KAAK,CAACF,KAAK;YACxCC,MAAM,GAAAK,oBAAA,GAAEJ,KAAK,CAACQ,aAAa,YAAAJ,oBAAA,GAAIJ,KAAK,CAACD;UAAM,GAMvClD,OAAO,CAACH,aAAa,IAAI;YAC3B+D,MAAM,EAAEb,GAAG,CAACc,MAAM,CAACd,GAAG,CAACe,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;UACzC,CAAC,CACF,CAAC;QAAA;QACJX,KAAK,CAACT,OAAO,GAAG;UAAA,OAAMM,SAAS,CAAC,CAAC;QAAA;MACnC,CAAC,MAAM;QACLA,SAAS,CAAC,CAAC;MACb;IACF,CAAC;IAEDR,MAAM,CAACuB,aAAa,CAACzB,UAAU,CAAC;EAClC,CAAC,CAAC;AACJ;AAEA,SAASrB,eAAeA,CAACrB,SAAoB,EAAE;EAAA,IAAAoE,qBAAA;EAC7C,IAAMC,aAAa,GAAG;IACpBC,KAAK,EAAE,SAAS;IAChBC,KAAK,EAAE,SAAS;IAChBC,KAAK,EAAE;EACT,CAAC;EAED,QAAAJ,qBAAA,GAAOC,aAAa,CAACrE,SAAS,CAAC,YAAAoE,qBAAA,GAAIC,aAAa,CAACC,KAAK;AACxD"},"metadata":{},"sourceType":"script","externalDependencies":[]}